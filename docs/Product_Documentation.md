# 门窗订单管理系统 - 产品文档

## 1. 产品简介
**门窗订单管理系统 (Window Order Management System)** 是一款专为门窗定制行业设计的全流程管理软件。它旨在解决传统门窗业务中订单流转混乱、进度追踪困难、人员协作效率低等痛点。通过数字化手段，将销售录单、生产排期、安装调度等环节串联起来，实现业务的可视化、规范化管理。

## 2. 目标用户
本系统主要服务于以下三类用户角色：

| 角色 | 典型职责 |
| :--- | :--- |
| **管理员 (Admin)** | 拥有系统最高权限，负责用户管理、基础数据维护（如品牌管理）、查看全局数据看板，以及处理异常订单。 |
| **销售员 (Sales)** | 负责接待客户、录入订单需求（尺寸、品牌）、跟进订单进度，只能管理属于自己的订单。 |
| **安装师傅 (Installer)** | 负责查看分配给自己的安装任务，更新现场安装进度（预约、安装中、完成）。 |

## 3. 核心功能

### 3.1 订单全生命周期管理
*   **订单录入**：支持销售员快速录入客户信息、安装地址、窗户规格（宽、高）、品牌选择等详细信息。
*   **状态追踪**：提供清晰的状态流转机制，包括订单状态（草稿/已提交）、生产进度（待生产/生产中/已完成）、安装进度（待安排/已预约/安装中/已完成）。
*   **流程管控**：内置业务规则引擎，确保业务逻辑严谨（例如：必须先完成生产，才能进行安装）。

### 3.2 角色权限与协作
*   **数据隔离**：销售员仅能查看和操作自己创建的订单，保障业务数据安全。
*   **任务分配**：管理员可将订单分配给指定的销售员和安装师傅。
*   **实时消息**：关键业务节点（如新订单创建、进度更新）会触发系统通知，实时触达相关人员（支持WebSocket实时推送）。

### 3.3 基础数据与系统管理
*   **品牌管理**：动态维护窗户型材品牌库，方便下单时选择。
*   **用户管理**：管理系统账号、角色分配及权限控制。
*   **操作日志**：全量记录用户的操作行为（增删改），确保责任可追溯。

### 3.4 数据可视化
*   **仪表盘**：提供订单统计、销售业绩概览等数据支持，辅助管理层决策。

### 3.7 售后服务管理
*   **在线报修**：支持从订单详情页直接发起售后申请，自动关联客户信息。
*   **工单流转**：包含“待处理 -> 已指派 -> 处理中 -> 已完成”的标准售后流程。
*   **维修记录**：详细记录问题描述、处理人、预约上门时间、维修结果及产生费用。

### 3.8 复尺任务管理
*   **任务指派**：销售员在初测后，可将复尺任务指派给专业师傅。
*   **精准记录**：师傅上门后，录入精确的宽高尺寸，并上传手绘图或现场照片。
*   **数据同步**：复尺完成后，订单的尺寸信息自动更新为精确尺寸，确保生产准确。

### 3.9 客户关系管理 (CRM)
*   **独立档案**：建立以手机号为唯一标识的客户档案库，自动汇集客户名下的所有历史订单。
*   **自动归档**：新订单录入时，系统自动识别并关联现有客户，新客户则自动建档。
*   **价值挖掘**：提供客户维度的消费统计（订单数、总金额），便于识别高价值客户。

## 4. 业务流程图 (文字版)

1.  **下单阶段**：销售员登录系统 -> 新建订单 (自动关联/新建客户) -> 填写窗户信息 -> 提交订单。
2.  **生产阶段**：(线下/系统外生产) -> 管理员/跟单员更新订单状态为“生产中” -> “生产完成”。
3.  **安装阶段**：管理员/安装师傅预约客户时间 -> 更新状态为“已预约” -> 上门安装 -> 更新状态为“安装中” -> 验收通过 -> “已完成”。
4.  **售后阶段**：客户反馈问题 -> 发起售后申请 -> 管理员指派师傅 -> 师傅上门维修 -> 录入结果 -> 工单完成。
5.  **通知闭环**：每一步关键状态变更，系统自动通知管理员，确保信息同步。

## 5. 核心价值
*   **效率提升**：告别纸质单据和Excel表格，信息录入一次，全员共享。
*   **进度透明**：客户咨询时，销售能立即查询到订单处于生产还是安装阶段。
*   **规范作业**：强制的业务流转规则，避免了流程跳跃带来的错漏。
